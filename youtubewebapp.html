<!DOCTYPE html>
<html>
<head>
    <title>YouTube en Tendencia</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }

        #video-container {
            display: none;
            margin: 20px 0;
        }

        input {
            padding: 5px;
        }

        button {
            padding: 5px 10px;
            cursor: pointer;
        }

        #history {
            text-align: left;
        }

        #trending {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Videos en Tendencia de YouTube</h1>
    <div id="video-container">
        <iframe id="youtube-video" width="560" height="315" src="https://www.youtube.com/embed/VIDEO_ID" frameborder="0" allowfullscreen></iframe>
    </div>
    <div>
        <input type="text" id="video-id" placeholder="ID del video">
        <button id="load-video">Cargar Video</button>
    </div>
    <div id="history">
        <h2>Historial de Videos Vistos</h2>
        <ul id="video-history"></ul>
    </div>
    <div>
        <h2>Videos en Tendencia</h2>
        <div id="trending"></div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const loadButton = document.getElementById('load-video');
            const videoContainer = document.getElementById('video-container');
            const videoIdInput = document.getElementById('video-id');
            const videoHistory = document.getElementById('video-history');
            const trendingContainer = document.getElementById('trending');

            // Cargar historial de videos vistos desde el almacenamiento local
            const history = JSON.parse(localStorage.getItem('videoHistory')) || [];

            // Mostrar el historial en la página
            function showHistory() {
                videoHistory.innerHTML = '';
                history.forEach(function(videoId) {
                    const listItem = document.createElement('li');
                    listItem.textContent = videoId;
                    videoHistory.appendChild(listItem);
                });
            }

            showHistory();

            // Función para cargar videos en tendencia
            function loadTrendingVideos() {
                const apiKey = 'AIzaSyA2PYKH6vm6C8gh0o38oRKt5Sd-_ArWtxk'; // Reemplaza con tu clave de API de YouTube
                const apiUrl = `https://www.googleapis.com/youtube/v3/videos?part=snippet&chart=mostPopular&maxResults=12&key=${apiKey}`;

                fetch(apiUrl)
                    .then(response => response.json())
                    .then(data => {
                        trendingContainer.innerHTML = '';

                        data.items.forEach(item => {
                            const videoId = item.id;
                            const videoTitle = item.snippet.title;
                            const videoThumbnail = item.snippet.thumbnails.medium.url;

                            const videoElement = document.createElement('div');
                            videoElement.innerHTML = `
                                <a href="https://www.youtube.com/watch?v=${videoId}" target="_blank">
                                    <img src="${videoThumbnail}" alt="${videoTitle}">
                                    <p>${videoTitle}</p>
                                </a>
                            `;

                            trendingContainer.appendChild(videoElement);
                        });
                    })
                    .catch(error => {
                        console.error('Error al cargar videos en tendencia:', error);
                    });
            }

            loadTrendingVideos();

            loadButton.addEventListener('click', function() {
                const videoId = videoIdInput.value;
                if (videoId) {
                    const iframe = document.getElementById('youtube-video');
                    iframe.src = `https://www.youtube.com/embed/${videoId}`;
                    videoContainer.style.display = 'block';

                    // Agregar el video al historial
                    history.push(videoId);
                    localStorage.setItem('videoHistory', JSON.stringify(history));
                    showHistory();
                }
            });
        });
    </script>
</body>
</html>

